<h1>ActionMailer::TestHelper#assert_emails</h1>

Asserts that the number of emails sent matches the given number.

  def test_emails
    assert_emails 0
    ContactMailer.deliver_contact
    assert_emails 1
    ContactMailer.deliver_contact
    assert_emails 2
  end

If a block is passed, that block should cause the specified number of emails to be sent.

  def test_emails_again
    assert_emails 1 do
      ContactMailer.deliver_contact
    end

    assert_emails 2 do
      ContactMailer.deliver_contact
      ContactMailer.deliver_contact
    end
  end




