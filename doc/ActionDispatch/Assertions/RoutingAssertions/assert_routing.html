<h1>ActionDispatch::Assertions::RoutingAssertions#assert_routing</h1>


<p>Asserts that path and options match both ways; in other words, it verifies
that <tt>path</tt> generates <tt>options</tt> and then that
<tt>options</tt> generates <tt>path</tt>.  This essentially combines
<tt>assert_recognizes</tt> and <tt>assert_generates</tt> into one step.</p>

<p>The <tt>extras</tt> hash allows you to specify options that would normally
be provided as a query string to the action.  The <tt>message</tt>
parameter allows you to specify a custom error message to display upon
failure.</p>

<h4>Examples</h4>

<pre data-language="ruby"># Assert a basic route: a controller with the default action (index)
assert_routing '/home', :controller =&gt; 'home', :action =&gt; 'index'

# Test a route generated with a specific controller, action, and parameter (id)
assert_routing '/entries/show/23', :controller =&gt; 'entries', :action =&gt; 'show', :id =&gt; 23

# Assert a basic route (controller + default action), with an error message if it fails
assert_routing '/store', { :controller =&gt; 'store', :action =&gt; 'index' }, {}, {}, 'Route for store index not generated properly'

# Tests a route, providing a defaults hash
assert_routing 'controller/action/9', {:id =&gt; &quot;9&quot;, :item =&gt; &quot;square&quot;}, {:controller =&gt; &quot;controller&quot;, :action =&gt; &quot;action&quot;}, {}, {:item =&gt; &quot;square&quot;}

# Tests a route with a HTTP method
assert_routing({ :method =&gt; 'put', :path =&gt; '/product/321' }, { :controller =&gt; &quot;product&quot;, :action =&gt; &quot;update&quot;, :id =&gt; &quot;321&quot; })</pre>





