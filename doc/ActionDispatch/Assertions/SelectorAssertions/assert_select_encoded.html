<h1>ActionDispatch::Assertions::SelectorAssertions#assert_select_encoded</h1>


<p>Extracts the content of an element, treats it as encoded HTML and runs
nested assertion on it.</p>

<p>You typically call this method within another assertion to operate on all
currently selected elements. You can also pass an element or array of
elements.</p>

<p>The content of each element is un-encoded, and wrapped in the root element
<tt>encoded</tt>. It then calls the block with all un-encoded elements.</p>

<h4>Examples</h4>

<pre># Selects all bold tags from within the title of an ATOM feed's entries (perhaps to nab a section name prefix)
assert_select_feed :atom, 1.0 do
  # Select each entry item and then the title item
  assert_select &quot;entry&gt;title&quot; do
    # Run assertions on the encoded title elements
    assert_select_encoded do
      assert_select &quot;b&quot;
    end
  end
end

# Selects all paragraph tags from within the description of an RSS feed
assert_select_feed :rss, 2.0 do
  # Select description element of each feed item.
  assert_select &quot;channel&gt;item&gt;description&quot; do
    # Run assertions on the encoded elements.
    assert_select_encoded do
      assert_select &quot;p&quot;
    end
  end
end</pre>





