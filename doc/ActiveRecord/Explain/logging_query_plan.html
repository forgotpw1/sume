<h1>ActiveRecord::Explain#logging_query_plan</h1>

If auto explain is enabled, this method triggers EXPLAIN logging for the
queries triggered by the block if it takes more than the threshold as a
whole. That is, the threshold is not checked against each individual
query, but against the duration of the entire block. This approach is
convenient for relations.

The available_queries_for_explain thread variable collects the queries
to be explained. If the value is nil, it means queries are not being
currently collected. A false value indicates collecting is turned
off. Otherwise it is an array of queries.




