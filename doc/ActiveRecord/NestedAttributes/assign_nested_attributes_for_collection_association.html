<h1>ActiveRecord::NestedAttributes#assign_nested_attributes_for_collection_association</h1>


<p>Assigns the given attributes to the collection association.</p>

<p>Hashes with an <tt>:id</tt> value matching an existing associated record
will update that record. Hashes without an <tt>:id</tt> value will build a
new record for the association. Hashes with a matching <tt>:id</tt> value
and a <tt>:_destroy</tt> key set to a truthy value will mark the matched
record for destruction.</p>

<p>For example:</p>

<pre data-language="ruby">assign_nested_attributes_for_collection_association(:people, {
  '1' =&gt; { :id =&gt; '1', :name =&gt; 'Peter' },
  '2' =&gt; { :name =&gt; 'John' },
  '3' =&gt; { :id =&gt; '2', :_destroy =&gt; true }
})</pre>

<p>Will update the name of the Person with ID 1, build a new associated person
with the name `John', and mark the associated Person with ID 2 for
destruction.</p>

<p>Also accepts an Array of attribute hashes:</p>

<pre data-language="ruby">assign_nested_attributes_for_collection_association(:people, [
  { :id =&gt; '1', :name =&gt; 'Peter' },
  { :name =&gt; 'John' },
  { :id =&gt; '2', :_destroy =&gt; true }
])</pre>





