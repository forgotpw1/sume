<h1>ActiveRecord::Calculations#calculate</h1>

This calculates aggregate values in the given column. Methods for count, sum, average,
minimum, and maximum have been added as shortcuts.

There are two basic forms of output:

  * Single aggregate value: The single value is type cast to Fixnum for COUNT, Float
    for AVG, and the given column's type for everything else.

  * Grouped values: This returns an ordered hash of the values and groups them. It
    takes either a column name, or the name of a belongs_to association.

      values = Person.group('last_name').maximum(:age)
      puts values["Drake"]
      => 43

      drake  = Family.find_by_last_name('Drake')
      values = Person.group(:family).maximum(:age) # Person belongs_to :family
      puts values[drake]
      => 43

      values.each do |family, max_age|
      ...
      end

Examples:
  Person.calculate(:count, :all) # The same as Person.count
  Person.average(:age) # SELECT AVG(age) FROM people...

  # Selects the minimum age for any family without any minors
  Person.group(:last_name).having("min(age) > 17").minimum(:age)

  Person.sum("2 * age")




