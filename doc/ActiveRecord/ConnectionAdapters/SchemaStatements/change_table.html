<h1>ActiveRecord::ConnectionAdapters::SchemaStatements#change_table</h1>


<p>A block for changing columns in <tt>table</tt>.</p>

<h3>Example</h3>

<pre># change_table() yields a Table instance
change_table(:suppliers) do |t|
  t.column :name, :string, :limit =&gt; 60
  # Other column alterations here
end</pre>

<p>The <tt>options</tt> hash can include the following keys:</p>
<dl class="rdoc-list"><dt><tt>:bulk</tt></dt>
<dd>
<p>Set this to true to make this a bulk alter query, such as ALTER TABLE
`users` ADD COLUMN age INT(11), ADD COLUMN birthdate DATETIME ...</p>

<p>Defaults to false.</p>
</dd></dl>

<h5>Examples</h5>

<h6>Add a column</h6>

<pre>change_table(:suppliers) do |t|
  t.column :name, :string, :limit =&gt; 60
end</pre>

<h6>Add 2 integer columns</h6>

<pre>change_table(:suppliers) do |t|
  t.integer :width, :height, :null =&gt; false, :default =&gt; 0
end</pre>

<h6>Add created_at/updated_at columns</h6>

<pre>change_table(:suppliers) do |t|
  t.timestamps
end</pre>

<h6>Add a foreign key column</h6>

<pre>change_table(:suppliers) do |t|
  t.references :company
end</pre>

<p>Creates a <tt>company_id(integer)</tt> column</p>

<h6>Add a polymorphic foreign key column</h6>

<pre>change_table(:suppliers) do |t|
  t.belongs_to :company, :polymorphic =&gt; true
end</pre>

<p>Creates <tt>company_type(varchar)</tt> and <tt>company_id(integer)</tt>
columns</p>

<h6>Remove a column</h6>

<pre>change_table(:suppliers) do |t|
  t.remove :company
end</pre>

<h6>Remove several columns</h6>

<pre>change_table(:suppliers) do |t|
  t.remove :company_id
  t.remove :width, :height
end</pre>

<h6>Remove an index</h6>

<pre>change_table(:suppliers) do |t|
  t.remove_index :company_id
end</pre>

<p>See also Table for details on all of the various column transformation</p>





