<h1>ActiveRecord::ConnectionAdapters::SchemaStatements#change_table</h1>

A block for changing columns in +table+.

 # change_table() yields a Table instance
 change_table(:suppliers) do |t|
   t.column :name, :string, :limit => 60
   # Other column alterations here
 end

The +options+ hash can include the following keys:
[<tt>:bulk</tt>]
  Set this to true to make this a bulk alter query, such as
  ALTER TABLE `users` ADD COLUMN age INT(11), ADD COLUMN birthdate DATETIME ...

  Defaults to false.

====== Add a column
 change_table(:suppliers) do |t|
   t.column :name, :string, :limit => 60
 end

====== Add 2 integer columns
 change_table(:suppliers) do |t|
   t.integer :width, :height, :null => false, :default => 0
 end

====== Add created_at/updated_at columns
 change_table(:suppliers) do |t|
   t.timestamps
 end

====== Add a foreign key column
 change_table(:suppliers) do |t|
   t.references :company
 end

Creates a <tt>company_id(integer)</tt> column

====== Add a polymorphic foreign key column
 change_table(:suppliers) do |t|
   t.belongs_to :company, :polymorphic => true
 end

Creates <tt>company_type(varchar)</tt> and <tt>company_id(integer)</tt> columns

====== Remove a column
 change_table(:suppliers) do |t|
   t.remove :company
 end

====== Remove several columns
 change_table(:suppliers) do |t|
   t.remove :company_id
   t.remove :width, :height
 end

====== Remove an index
 change_table(:suppliers) do |t|
   t.remove_index :company_id
 end

See also Table for details on
all of the various column transformation




