<h1>ActiveRecord::Associations::HasManyAssociation#count_records</h1>


<p>Returns the number of records in this collection.</p>

<p>If the association has a counter cache it gets that value. Otherwise it
will attempt to do a count via SQL, bounded to <tt>:limit</tt> if there's
one.  Some configuration options like :group make it impossible to do an
SQL count, in those cases the array count will be used.</p>

<p>That does not depend on whether the collection has already been loaded or
not. The <tt>size</tt> method is the one that takes the loaded flag into
account and delegates to <tt>count_records</tt> if needed.</p>

<p>If the collection is empty the target is set to an empty array and the
loaded flag is set to true as well.</p>





