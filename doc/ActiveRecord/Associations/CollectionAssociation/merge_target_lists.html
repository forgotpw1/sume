<h1>ActiveRecord::Associations::CollectionAssociation#merge_target_lists</h1>


<p>We have some records loaded from the database (persisted) and some that are
in-memory (memory). The same record may be represented in the persisted
array and in the memory array.</p>

<p>So the task of this method is to merge them according to the following
rules:</p>

<pre data-language="ruby">* The final array must not have duplicates
* The order of the persisted array is to be preserved
* Any changes made to attributes on objects in the memory array are to be preserved
* Otherwise, attributes should have the value found in the database</pre>





