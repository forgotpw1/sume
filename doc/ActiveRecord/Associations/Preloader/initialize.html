<h1>ActiveRecord::Associations::Preloader#initialize</h1>

Eager loads the named associations for the given Active Record record(s).

In this description, 'association name' shall refer to the name passed
to an association creation method. For example, a model that specifies
<tt>belongs_to :author</tt>, <tt>has_many :buyers</tt> has association
names +:author+ and +:buyers+.

== Parameters
+records+ is an array of ActiveRecord::Base. This array needs not be flat,
i.e. +records+ itself may also contain arrays of records. In any case,
+preload_associations+ will preload the all associations records by
flattening +records+.

+associations+ specifies one or more associations that you want to
preload. It may be:
- a Symbol or a String which specifies a single association name. For
  example, specifying +:books+ allows this method to preload all books
  for an Author.
- an Array which specifies multiple association names. This array
  is processed recursively. For example, specifying <tt>[:avatar, :books]</tt>
  allows this method to preload an author's avatar as well as all of his
  books.
- a Hash which specifies multiple association names, as well as
  association names for the to-be-preloaded association objects. For
  example, specifying <tt>{ :author => :avatar }</tt> will preload a
  book's author, as well as that author's avatar.

+:associations+ has the same format as the +:include+ option for
<tt>ActiveRecord::Base.find</tt>. So +associations+ could look like this:

  :books
  [ :books, :author ]
  { :author => :avatar }
  [ :books, { :author => :avatar } ]

+options+ contains options that will be passed to ActiveRecord::Base#find
(which is called under the hood for preloading records). But it is passed
only one level deep in the +associations+ argument, i.e. it's not passed
to the child associations when +associations+ is a Hash.




