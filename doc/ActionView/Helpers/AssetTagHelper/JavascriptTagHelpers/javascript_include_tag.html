<h1>ActionView::Helpers::AssetTagHelper::JavascriptTagHelpers#javascript_include_tag</h1>

Returns an HTML script tag for each of the +sources+ provided.

Sources may be paths to JavaScript files. Relative paths are assumed to be relative
to <tt>public/javascripts</tt>, full paths are assumed to be relative to the document
root. Relative paths are idiomatic, use absolute paths only when needed.

When passing paths, the ".js" extension is optional.

If the application is not using the asset pipeline, to include the default JavaScript
expansion pass <tt>:defaults</tt> as source. By default, <tt>:defaults</tt> loads jQuery,
and that can be overridden in <tt>config/application.rb</tt>:

  config.action_view.javascript_expansions[:defaults] = %w(foo.js bar.js)

When using <tt>:defaults</tt>, if an <tt>application.js</tt> file exists in
<tt>public/javascripts</tt> it will be included as well at the end.

You can modify the HTML attributes of the script tag by passing a hash as the
last argument.

  javascript_include_tag "xmlhr"
  # => <script src="/javascripts/xmlhr.js?1284139606"></script>

  javascript_include_tag "xmlhr.js"
  # => <script src="/javascripts/xmlhr.js?1284139606"></script>

  javascript_include_tag "common.javascript", "/elsewhere/cools"
  # => <script src="/javascripts/common.javascript?1284139606"></script>
  #    <script src="/elsewhere/cools.js?1423139606"></script>

  javascript_include_tag "http://www.example.com/xmlhr"
  # => <script src="http://www.example.com/xmlhr"></script>

  javascript_include_tag "http://www.example.com/xmlhr.js"
  # => <script src="http://www.example.com/xmlhr.js"></script>

  javascript_include_tag :defaults
  # => <script src="/javascripts/jquery.js?1284139606"></script>
  #    <script src="/javascripts/rails.js?1284139606"></script>
  #    <script src="/javascripts/application.js?1284139606"></script>

You can also include all JavaScripts in the +javascripts+ directory using <tt>:all</tt> as the source:

  javascript_include_tag :all
  # => <script src="/javascripts/jquery.js?1284139606"></script>
  #    <script src="/javascripts/rails.js?1284139606"></script>
  #    <script src="/javascripts/application.js?1284139606"></script>
  #    <script src="/javascripts/shop.js?1284139606"></script>
  #    <script src="/javascripts/checkout.js?1284139606"></script>

Note that your defaults of choice will be included first, so they will be available to all subsequently
included files.

If you want Rails to search in all the subdirectories under <tt>public/javascripts</tt>, you should
explicitly set <tt>:recursive</tt>:

  javascript_include_tag :all, :recursive => true

== Caching multiple JavaScripts into one

You can also cache multiple JavaScripts into one file, which requires less HTTP connections to download
and can better be compressed by gzip (leading to faster transfers). Caching will only happen if
<tt>config.perform_caching</tt> is set to true (which is the case by default for the Rails
production environment, but not for the development environment).

  # assuming config.perform_caching is false
  javascript_include_tag :all, :cache => true
  # => <script src="/javascripts/jquery.js?1284139606"></script>
  #    <script src="/javascripts/rails.js?1284139606"></script>
  #    <script src="/javascripts/application.js?1284139606"></script>
  #    <script src="/javascripts/shop.js?1284139606"></script>
  #    <script src="/javascripts/checkout.js?1284139606"></script>

  # assuming config.perform_caching is true
  javascript_include_tag :all, :cache => true
  # => <script src="/javascripts/all.js?1344139789"></script>

  # assuming config.perform_caching is false
  javascript_include_tag "jquery", "cart", "checkout", :cache => "shop"
  # => <script src="/javascripts/jquery.js?1284139606"></script>
  #    <script src="/javascripts/cart.js?1289139157"></script>
  #    <script src="/javascripts/checkout.js?1299139816"></script>

  # assuming config.perform_caching is true
  javascript_include_tag "jquery", "cart", "checkout", :cache => "shop"
  # => <script src="/javascripts/shop.js?1299139816"></script>

The <tt>:recursive</tt> option is also available for caching:

  javascript_include_tag :all, :cache => true, :recursive => true




